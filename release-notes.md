# Release Notes

## Preview Release 4 (0.4)

There have been __a lot__ of changes to Nova NextGen in a short amount of time. After the release of Laravel Spark back in May, we took some of the patterns and examples that Laravel's creator used in Spark and incorporated them into Nova NextGen. As such, a lot of these changes don't impact the user-facing side of the system, but they do provide a cleaner architecture for Nova NextGen.

- Given the fact that we're trying to develop a _modern_ system, we've decided that Nova NextGen will now require __PHP 7.0__ or higher in order to run. Since we're still a ways off from having a production-ready product, we anticipate more shared hosts will begin to offer PHP 7 as an option as we get closer to release. If you have questions or concerns about this change, please don't hesitate to get in touch with us!
- For the most part, the installation process works very smoothly, but in the event there was an error during installation, there was no feedback to the user. We've reworked the install process so that if something goes wrong, the user will be alerted and shown the error message. In the event that happens to you, make sure to let us know what the error is so that we can fix it!
- Whoops! We actually missed a big chunk of functionality in Preview Release 3 with menu items and access control. Turns out you can't hide menu items based on access control at all. Our bad! Menu items now have access control options attached to them so that you can limit who can and cannot see a menu item.
- And since we're talking about menu items, we've added the ability to assign any icon in the icon map to a menu item. This should help spice up your menus a little bit. Just remember that not all themes will use the same menu configuration, so you may need to check all of your themes to make sure the menu items look right with icons in them.
- All interfaces in Nova are now referred to as contracts.
- Events are no longer fired from within controller methods. With a RESTful API on the horizon, there would have been significant issues with calls to the API not properly firing events when they needed to be fired (or at all). Now, events are fired from within the repositories so that regardless of how Nova gets to the repository, the event(s) will fire as expected.
- We've continued our adventures in Vue.js with the creation of the access picker component. This component provides a consistent user interface to select access control restrictions. After selecting whether you want to restrict by role or permission, you'll be able to use an autocomplete field to select as many items as you want. This component is available when creating/editing menu items as well as basic pages.
- In addition to the access picker component, we've also created a new icon picker component that allows users to select an icon for use in their menu items. We'll also be using this component with form tabs and form sections as well in the future.
- And now for what Preview Release 4 was all about to begin with: users!

Like mentioned above, this release involved a lot of clean up from previous preview releases:

- Javascript views are now pure Javascript instead of mixing PHP in with them. This is a significant change, but we think it's a much cleaner way of handling Javascript in the system. In order to get data from the controller to the Javascript, we've created a new global `Nova` object that grabs all of the data passed from the controller to the PHP view. This means that PHP views and Javascript views now have access to the same data without any extra work.
- We've eliminated some confusion with the access control system and how fields were named. (Previously, the name was called display name and the key was called name. Who thought _that_ was a good idea???)
- View locations are now stored in a collection rather than individual properties on the controller. This provides a single location for accessing any locations set in controller methods.
- All create and edit views now have Vue model bindings on every field. If you replace a page's Javascript view, you'll actually be able to respond to any change on any field without also needing to replace the PHP view as well to add the binding.
- There were some leftover and unnecessary jQuery things still being used. We've converted those instances to use Vue instead for much cleaner, readable, reactive code.

In addition to working through some clean up in the core, we also addressed some issues that have come up with themes, theme structure, and theme architecture. Most of these are simple changes, but if you've already started to play around with themes, you may find your themes don't work as expected. Fundamentally, themes work the same, but there's been a lot of clean up work done (are you sensing the pattern here?).

- We've removed a _significant_ number of partials from the system. In some cases they make sense, but in others, it's simply over-engineering. (We've also seen some performance increases on certain server setups.) If you've started to play around with themes and have replaced partials in your theme, check in the core to make sure those items still exist. Also, beware that several partials have been renamed as well, so if you've replaced partials in your theme, you may have to rename them to get things working correctly again.
- The `Theme` class has been re-written to use more interfaces and to provide more flexibility for theme developers. If you aren't extending from the base theme class, you'll need to update the interfaces you implement in order to avoid errors being thrown.
- All first-party themes now use Sass as the CSS preprocessor instead of Less. This change was made due to the fact that Bootstrap 4 will be Sass by default and we wanted to maintain some consistency with other third-party libraries being used throughout Nova NextGen. In all liklihood, this won't impact any theme developers and if theme developers are using a CSS preprocessor for their themes, they can continue to use whatever they're comfortable with. The only issues will be if you're trying to import a Less stylesheet from the core as those no longer exist.
- A lot of the buttons in Nova NextGen now include icons with them. Since all icons have a wrapper, we've decided to wrap the text of the buttons in a `span` tag. This means that your styles can target the icon itself or the text in the event you want to turn either the icon or the text off for your theme.
- And speaking of icons, there have been a bunch of changes to icons, too!
	- Nova NextGen now ships with __Font Awesome__ instead of the Material Design icons. Font Awesome offers a better size and a better array of choices than MDI does.
	- In addition to switching to Font Awesome, we've also fleshed out the icon map to include over 90 icons now! As a theme developer, you can replace those mappings with an icon font of your choice and override the `getIconMap` method to map that array to your icon's items. You'll leave the keys as they are (the value on the left) and replace the value (what's on the right) with whatever the icon font you choose maps that particular icon to. If you need examples, you can check out some of the other themes packaged in Nova NextGen.
	- Instead of using a partial for the icon template, the template is now stored in the `iconTemplate` method of the `Theme` class. If you're using a different icon font, you'll need to override both the `iconTemplate` method as well as the `getIconMap` method.

## Preview Release 3 (0.3)

- We've moved away from the Entrust authorization library and replaced with a solution of our own that's backed by the built-in Laravel authorization component. Nothing has changed about authorization, it's just that it's now code we've written instead of someone else and it utilizes more of Laravel's built-in functionality.
- Welcome Vue.js! Over the last few months, we've kept our eye on a new Javascript framework called Vue.js. Vue.js is a small, fast, simple, reactive framework that we're really excited to play around with in several different areas. Despite it being new, it's very mature and we think that you'll love it as much as we do when you get in there and start playing around with it!
	- The first thing we decided to tackle with Vue.js is filtering. Several pages utilized a fast and easy filtering system that was originally built on top of AngularJS. Unfortunately, AngularJS is a beast and the code involved with doing something fairly trivial was significant and not easy to maintain. We've dropped AngularJS in favor of Vue.js and re-written the filtering functionality with about half as much code. In addition, the code that we wrote is significantly more expressive and cleaner. Win-win!
	- We've dipped our toe in the water of Vue.js components. These simple and powerful pieces of code have allowed us to create more expressive code that makes it a little clearer what's happening when you look at the code. We've started small with components to hide and show content based on the device being used. Since components are used just like HTML tags, you'll see and be able to use tags like `<desktop>Content</desktop>` to only display things on a desktop-sized device. So far, the following components are available:
		- desktop-lg
		- desktop-sm
		- phone
		- tablet
		- desktop (includes desktop-sm and desktop-lg)
		- mobile (includes phone and tablet)
		- tablet-desktop (includes tablet, desktop-sm, and desktop-lg)
- The Additional Page Content management page has been updated to show content that is __not__ a _header_, _title_, or _message_. The previous way of showing all content created some confusion about what the difference between the Page Manager and Page Content Manager was. Now, only additional content will be shown to make it easier to understand what's going on.
- And speaking of the Content Manager, we've moved some items out of Settings and into the Content Manager (like sim name). Since those are pieces of content and not true settings, we felt like the Content Manager was a better place for those things to live. Additionally, we've removed the settings page compiler and replaced it with a content page compiler to pull items out of the content tables. It works the same as the old settings page compiler, so you'll be able to do things like `content:sim_name` to pull the sim name out of the Content Manager in page content.
- The Page Manager got a lot smarter! Instead of requiring admins to type out the fully qualified class name (try saying that 10 times fast) which had the potential for lots of errors, Nova will now present a list of all the extension controllers and their public methods. This means that selecting a resource for an advanced page takes a single click now. We're still working on this, so in the future, the list will be narrowed down further to only extensions that are marked as active and not every extension in the `extensions` directory.
- The Theme class now has an option for rendering the admin menu separately from the public menu. This will come in handy for theme developers who want to do different things with menus, but only for the admin section.
- Nova NextGen has been upgraded to Laravel 5.2.
- We've continued to work on the access control pieces of Nova NextGen and have integrated access control into the Page Manager. Now, when creating a basic page, you'll be able to specify an access role that you want to be used for determining who can view a page. This only applies to basic pages. Advanced pages will still have to manually handle authorization like Nova's built-in pages do.
- Dynamic forms are back in Nova NextGen and better than ever. Consider them Forms 2.0. Here are a few highlights from the new dynamic form system:
	- You can now create your own forms through the form system. This allows admins to create forms for collecting information from users without needing to use Google Docs or custom code something themselves. With a few clicks, you can have a new form that you can use. _And_ to make it even better, you can integrate your forms into basic pages by using the form page compiler, so you don't even have to get your hands dirty with any code.
	- Any form can now include tabs. Previously, only the character form included tabs, but there's no reason you wouldn't want tabs on any other form, so whether it's your own forms or updating the existing forms, any dynamic form in Nova NextGen can use tabs. On top of that, tabs themselves can have tabs, so you can get into more complex form layouts without needing to compromise what you're going for.
	- You can now specify rules that must be met in order for the form to submitted or updated. These validation rules allow for you to control exactly the data that can be stored in the form. If _any_ rule is violated, the form won't submit.
	- Fields can now be locked down by access role, but not just a one and done type of deal. Fields respond to three different states when dealing with access: viewing, creation, and editing. That means that you can control each state of the field independently. Want someone to be able to see the data in the field but not put data in when filling out a new record or editing an existing record? You can do that. Want someone to be able to put data in initially, but not be able to update it after that? Easy to do with field access restrictions.
	- When creating a new field for a form, there's a live preview that will show you what your field will look like. Because of the reactivity of Vue.js, changes are shown in real time. If you change the field label, as you type, the preview will update. This helps you create something where you don't have to guess at what certain changes do and then go back and edit it again later, you'll see the changes immediately.
	- You can now create __custom field types__ for use in Nova's forms. With a few lines of code (okay, more than a few, but it's actually not terribly taxing) developers can create a whole new type of field for other people to use. So, for example, that you wanted a color picker for users to pick their favorite color. In Nova 2, you'd just create a text field. With custom field types, you can create a color picker field that, when clicked, will pop up the operating system's color picker to choose a color. When you create the field in your form, you'd see the option in the field type dropdown. Custom field types open up a lot of possibilities in making forms exactly what you want.
- Form Center is a way to quickly and easily leverage any forms you create. Instead of needing to create new pages to embed forms, you can direct users to the Form Center where they'll be able to fill out any forms that have been marked as being able to use Form Center. From there a user can see any entries they've posted as well as add new entries for you to review.

## Preview Release 2 (0.2)

- In order to keep up with the latest release of Laravel, we've bumped the PHP requirement to __PHP 5.5.9__.
- You can now log in, log out, and reset your passwords. Password resets have changed significantly since Nova 2. Now, instead of a secret question/answer, you'll be prompted to give your email address and a reset link will be sent to you. This provides more flexibility for users to create their new password instead of being assigned one and then having to remember it or change it again.
- Welcome the __Page Manager__! This is a brand new way to manage all of the pages in Nova and a dead simple way to create new pages with a few clicks. Whether you're creating a basic static page or a more advanced page with code behind it, the Page Manager provides you all the tools you need to create pages.
- The __Menu Manager__ is also available as an easy way to create, edit, and manage all of your menus and menu items in Nova NextGen.

## Preview Release 1 (0.1)

This first preview release of Nova NextGen serves as a preview of the work being done on Nova 3. The "NextGen" moniker is simply a marketing term to differentiate between all the talk over the previous years about Nova 3 and what Nova 3 is actually becoming. We've laid out our vision for what Nova should be and this is the first step in that direction. There's very little here, but there's also a lot.

The next version of Nova is being built off the powerful and robust Laravel PHP framework. Out of the box though, Laravel has a structure that required some tweaking to work better for Nova's requirements. These tweaks allow Nova to work the way people expect while still being fully Laravel.

Next is a whole new and significantly clearer file structure that takes a lot of the guessing out of what goes where. From a first glance, you'll be able to know exactly what different directories are for without needing to know cryptic terms (who thought it was a good idea for themes to live in a directory called _views_ anyway?) or know the history of the application. Now, if you want to see your themes, look in your `themes` directory. Want to upload a new rank set? Throw it in `ranks`.

Finally, we've spent a lot of time building out a smart installation process that should make your first experience with Nova a breeze. Nova can detect almost every issue it could run in to and will even tell you if there are potential problems. On top that, we've provided significantly more explanation about what's happening and even expanded the database and email options available from day 1.

Check out this first preview of Nova 3 and be sure to let us know what you think!
